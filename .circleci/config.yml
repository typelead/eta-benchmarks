version: 2.0
jobs:
  build:
    docker:
    - image: typelead/eta:latest
    environment:
      JAVA_OPTS: -Xmx1G -Xms1G
    steps:
    - checkout
    - run:
        name: Init Benchmarks
        command: ./scripts/init.sh
    - run:
        name: Fast Benchmarks
        command: ./scripts/fast-benchmarks.sh
        no_output_timeout: 1h
    - run:
        name: Slow Benchmarks
        command: ./scripts/slow-benchmarks.sh
        no_output_timeout: 1h

workflows:
  version: 2
  full_cycle:
    jobs:
      - build
